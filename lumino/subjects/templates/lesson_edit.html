{% extends "base.html" %}
{% load crispy_forms_tags %}
{% block title %}
<title>Edit lesson</title>
{% endblock title %}

{% block body %}
{% if messages %}
<ul class="messages">
    {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show position-fixed top-0 end-0 m-3" role="alert" id="message-{{ forloop.counter }}">
            {{ message }}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close" onclick="closeMessage('message-{{ forloop.counter }}')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    {% endfor %}
</ul>
{% endif %} 
<div class="container mt-4 bg-light">
  <h1 class="text-dark">Edit Lesson</h1>
  {% crispy form %}
</div>
<script>
  function closeMessage(id) {
      const alertElement = document.getElementById(id);
      if (alertElement) {
          alertElement.classList.remove('show');
          alertElement.classList.add('fade');
          setTimeout(() => {
              alertElement.remove();  
          }, 150); 
      }
  }


  document.addEventListener("DOMContentLoaded", function () {
      setTimeout(function () {
          const alerts = document.querySelectorAll('.alert');
          alerts.forEach(alert => {
              alert.classList.remove('show');
              alert.classList.add('fade');
              setTimeout(() => {
                  alert.remove();  
              }, 150); 
          });
      }, 5000);
  });
</script>
{% endblock body %}
